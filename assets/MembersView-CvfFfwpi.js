import{g as h,A as v,_ as b,c as r,d as _,a as s,F as c,r as C,b as d,n as m,t as l,o as i,e as D}from"./index-Sxu-8l9n.js";const M={data(){return{loaded:!1,openDeleteMemberConfirmDialog:!1,currentMember:void 0}},methods:{deleteMember(e,o=!1){if(!o){this.currentMember=e,this.openDeleteMemberConfirmDialog=!0;return}e.delete(),this.$client.space.members=this.$client.space.members.filter(p=>p.id!=e.id)},openDialog(e){this.$router.push({query:{member:e.id}})}},mounted(){(async()=>{var e;for(;((e=this.$client.space)==null?void 0:e.loaded)!=!0;)await h(50);this.loaded=!0})()},components:{AppBar:v}},k={key:0,class:"responsive"},y={class:"middle-align center-align",style:{height:"100%"}},$={key:0,class:"center-align",style:{display:"flex","flex-direction":"row","flex-wrap":"wrap",gap:"24px","align-self":"safe center"}},w=["onClick"],B={style:{padding:"40px"}},A={class:"center-align"},V={class:"link small-text"},N=s("div",{class:"space"},null,-1),z={class:"center-align"},F=["onClick"],O=s("i",null,"delete",-1),q={class:"right-align no-space"},x=s("div",{class:"space"},null,-1);function E(e,o,p,L,t,a){const f=D("AppBar");return i(),r(c,null,[_(f,{label:"Members"}),t.loaded?(i(),r("main",k,[s("div",y,[e.$client.space!=null?(i(),r("div",$,[(i(!0),r(c,null,C(e.$client.space.members,n=>{var u;return i(),r("div",null,[s("article",{class:"medium middle-align wave wave-medium",onClick:g=>a.openDialog(n),style:{cursor:"pointer"}},[s("div",B,[s("i",{class:m(["extra",[`${n.color}-text`]])},"person",2),s("h5",A,l(n.name),1),s("span",V,l(e.$tc("common.likes",n.likes.length))+" "+l(e.$t("common.and"))+" "+l(e.$tc("common.recommendations",n.suggestions.length)),1),(u=e.$client.space.self)!=null&&u.isOwner()&&!n.isOwner()?(i(),r(c,{key:0},[N,s("nav",z,[s("button",{style:{"z-index":"10"},class:"large error",onClick:g=>{g.stopPropagation(),a.deleteMember(n)}},[O,s("span",null,l(e.$t("common.delete")),1)],8,F)])],64)):d("",!0)])],8,w)])}),256))])):d("",!0)]),s("div",{class:m(["overlay",{active:t.openDeleteMemberConfirmDialog}]),onClick:o[0]||(o[0]=n=>t.openDeleteMemberConfirmDialog=!1)},null,2),s("dialog",{class:m(["error",{active:t.openDeleteMemberConfirmDialog}])},[s("h5",null,l(e.$t("members.dialog.removeMember.title")),1),s("div",null,l(e.$t("members.dialog.removeMember.message")),1),s("nav",q,[s("button",{class:"error transparent",onClick:o[1]||(o[1]=n=>t.openDeleteMemberConfirmDialog=!1)},l(e.$t("common.abort")),1),x,s("button",{class:"error-container no-elevate",onClick:o[2]||(o[2]=n=>{t.openDeleteMemberConfirmDialog=!1,a.deleteMember(t.currentMember,!0)})},l(e.$t("common.confirm")),1)])],2)])):d("",!0)],64)}const S=b(M,[["render",E]]);export{S as default};
